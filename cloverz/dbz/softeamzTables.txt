CREATE TABLE applicazioni 
  IDAppl   ,
  DescrAppl  ,
  InizioAssistenza  ,
  FineAssistenza  ,
  GiorniAssistenza  ,
  IDCliente  ,
  IDTipoServizi  ,
  IDApplAlternativa  ,
  PrioritaAlternativa  ,
  IDCommessa_MAC  ,
  IDCommessa_MEV  ,
  IDCommessa_SUP  ,
  PRIMARY KEY IDAppl,
  CONSTRAINT FK_applicazioni_applicazioni FOREIGN KEY IDApplAlternativa REFERENCES applicazioni IDAppl,
  CONSTRAINT FK_applicazioni_clienti FOREIGN KEY IDCliente REFERENCES clienti IDCliente,
  CONSTRAINT FK_applicazioni_commesse_MAC FOREIGN KEY IDCommessa_MAC REFERENCES commesse IDCommessa,
  CONSTRAINT FK_applicazioni_commesse_MEV FOREIGN KEY IDCommessa_MEV REFERENCES commesse IDCommessa,
  CONSTRAINT FK_applicazioni_commesse_SUP FOREIGN KEY IDCommessa_SUP REFERENCES commesse IDCommessa,
  CONSTRAINT FK_applicazioni_tiposervizi FOREIGN KEY IDTipoServizi REFERENCES softteamprincipale.tiposervizi IDTipoServizi


CREATE TABLE attivita 
  CodAtt  ,
  DescAtt  

CREATE TABLE clienti 
  IDCliente   ,
  RagSoc  ,
  Indirizzo  ,
  Localita  ,
  Provincia  ,
  Cap  ,
  Regione  ,
  Nazione  ,
  Note  ,
  IDTipoClienti  ,
  www  ,
  email  ,
  Prefix  ,
  PRIMARY KEY IDCliente,
  CONSTRAINT FK_clienti_tipoclienti FOREIGN KEY IDTipoClienti REFERENCES tipoclienti IDTipoClienti


CREATE TABLE commesse 
  IDCommessa   ,
  Descrizione  ,
  IDCliente  ,
  Note text ,
  Stato   ,
  Login   ,
  Impegno   ,
  FlagAvviso   ,1=warning,2=preventivo superato',
  DataInizio  ,
  DataFine  ,
  IDTipoCommessa   ,
  Flag   ,I=Interna',
  FatChiusa  ,
  FatObbl  ,
  CodProd  ,
  DataIns datetime ,
  FlagConsuntivo  ,
  FlagExtra  ,
  TariffaOraria  ,
  ImpServizioValore  ,
  ImpDirittoUscita  ,
  Sconto  ,
  SpeseTrasferta  ,
  FlagServVal  ,
  FlagCessioneGratuita  ,
  NoteOperative text ,
  FlagAvvisoValore  ,
  FlagGestioneTk  ,
  TipoTicketGestiti  ,
  FlagOreSO  ,
  DataServValore  ,
  LoginServValore  ,
  RapportoOre  ,
  FlagFreezedTk  ,
  IDGruppoCommessa  ,
  OreNFAuto  ,
  ImportoCommessa  ,
  BonusTrasferta  ,
  OreViaggio  ,
  ApplicaCostiGen  ,
  TariffaOrariaPM  ,
  PManager  ,
  ReddP  ,
  ReddO  ,
  TariffaGiorn  ,
  TariffaGiornPM  ,
  PercAllarmeImporto  ,
  FlagAvvisoImporto  ,
  DataAvvisoImporto  ,
  InvioAutomaticoRiepilogo  ,
  MaxOreStima  ,
  IDClass  ,
  CostiAccessori  ,
  DescCostiAccessori  ,
  Margine_Commerciale  ,
  Contingency  ,
  IDTipoServizio  ,
  PRIMARY KEY IDCommessa,
  CONSTRAINT FK_commesse_clienti FOREIGN KEY IDCliente REFERENCES clienti IDCliente,
  CONSTRAINT FK_commesse_tipocommesse FOREIGN KEY IDTipoCommessa REFERENCES tipocommesse IDTipoCommessa,
  CONSTRAINT FK_commesse_tiposervizi FOREIGN KEY IDTipoServizio REFERENCES softteamprincipale.tiposervizi IDTipoServizi


CREATE TABLE offertatk 
  ID  ,
  IDTck  ,
  PRIMARY KEY ID,IDTck


CREATE TABLE offerte 
  ID   ,
  DataOfferta   ,
  IDOfferta  ,
  IDCliente  ,
  DescOfferta  ,
  ImpOfferta  ,
  Note  ,
  DataIns datetime ,
  DataMod datetime ,
  UserIns  ,
  UserMod  ,
  IDCommessa  ,
  Referente  ,
  Stato  ,
  Margine_Commerciale  ,
  Contingency  ,
  PRIMARY KEY ID,
  CONSTRAINT FK_offerte_clienti FOREIGN KEY IDCliente REFERENCES clienti IDCliente,
  CONSTRAINT FK_offerte_commesse FOREIGN KEY IDCommessa REFERENCES commesse IDCommessa


CREATE TABLE ordinetk 
  DataOrdine   ,
  IDCliente  ,
  IDOrdine  ,
  IDTck   ,
  IDCommessa  ,
  ID_off  ,
  PRIMARY KEY DataOrdine,IDCliente,IDOrdine,IDTck,
  CONSTRAINT FK_ordinetk_commesse FOREIGN KEY IDCommessa REFERENCES commesse IDCommessa,
  CONSTRAINT FK_ordinetk_offerta FOREIGN KEY ID_off REFERENCES softteamprincipale.offerta ID


CREATE TABLE ordini 
  DataOrdine   ,
  IDCliente  ,
  IDOrdine  ,
  DescOrdine  ,
  ImpOrdine  ,
  IDCommessa  ,
  Note  ,
  DataIns datetime ,
  DataMod datetime ,
  UserIns  ,
  UserMod  ,
  FlagHidden  ,
  NF1  ,
  DF1  ,
  IF1  ,
  NF2  ,
  DF2  ,
  IF2  ,
  NF3  ,
  DF3  ,
  IF3  ,
  NF4  ,
  DF4  ,
  IF4  ,
  NF5  ,
  DF5  ,
  IF5  ,
  PF1  ,
  PF2  ,
  PF3  ,
  PF4  ,
  PF5  ,
  ImpCnty  ,
  IDOrdineCnty  ,
  PRIMARY KEY DataOrdine,IDCliente,IDOrdine,
  CONSTRAINT FK_ordini_commesse FOREIGN KEY IDCommessa REFERENCES commesse IDCommessa,
  CONSTRAINT FK_ordini_ordinicnty FOREIGN KEY IDOrdine REFERENCES softteamprincipale.ordinicnty IDOrdine


CREATE TABLE statitickets 
  IDStato   ,
  Descrizione  ,
  Flag  ,
  Immagine  ,
  Tooltiptext  ,
  PRIMARY KEY IDStato


CREATE TABLE tipoclienti 
  IDTipoClienti   ,
  Descrizione  ,
  PRIMARY KEY IDTipoClienti


CREATE TABLE tipocommesse 
  IDTipoCommessa   ,
  Descrizione  ,
  Progressivo  ,
  PRIMARY KEY IDTipoCommessa

